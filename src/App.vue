<script lang="ts" setup>
import { MapBox /* GeoControl, Marker, Layer*/ } from '@components';
import { onMounted, ref } from 'vue';
// import type { Geometry } from 'geojson';
import '../dist/style.css';

const sourceData = ref({
  type: 'FeatureCollection',
  features: [
    {
      type: 'Feature',
      properties: {},
      geometry: {
        type: 'Polygon',
        coordinates: [
          [
            [103.81583516595906, 24.727694714940622],
            [103.34414551269805, 24.705966973091208],
            [102.87745592824044, 24.641015590847292],
            [102.4206961137686, 24.53353269867782],
            [101.97865703910442, 24.384660624350786],
            [101.55592646219975, 24.19597543044567],
            [101.15682997480269, 23.969464584424507],
            [100.78537889248373, 23.707499419917415],
            [100.44522592512588, 23.412803159090437],
            [100.1396291590225, 23.088415330812392],
            [99.87142448744895, 22.737653438067298],
            [99.64300627197437, 22.36407270479779],
            [99.45631572366028, 21.971424674264],
            [99.31283627492897, 21.56361534713497],
            [99.21359507397099, 21.14466344774694],
            [99.15916967118721, 20.718659300854142],
            [99.1496989724712, 20.289724697264145],
            [99.1848975943121, 19.861974031848792],
            [99.26407285590003, 19.439476916477766],
            [99.386143768499, 19.026222406375275],
            [99.54966151818522, 18.626084932338948],
            [99.75283107241424, 18.24279200266995],
            [99.99353366400015, 17.879893725752087],
            [100.26935001081867, 17.5407342042558],
            [100.57758421135138, 17.228424861608314],
            [100.91528831296064, 16.945819777058475],
            [101.27928758156801, 16.69549312377482],
            [101.66620651007084, 16.47971882159529],
            [102.07249559170799, 16.300452529401113],
            [102.49445885811414, 16.15931610933936],
            [102.92828214511322, 16.05758469473354],
            [103.370062007848, 15.996176484774134],
            [103.81583516595906, 15.975645372072407],
            [104.26160832407012, 15.996176484774134],
            [104.70338818680493, 16.05758469473354],
            [105.137211473804, 16.15931610933936],
            [105.55917474021012, 16.30045252940111],
            [105.9654638218473, 16.47971882159529],
            [106.35238275035012, 16.695493123774824],
            [106.7163820189575, 16.945819777058475],
            [107.05408612056674, 17.228424861608307],
            [107.36232032109946, 17.5407342042558],
            [107.63813666791798, 17.879893725752087],
            [107.87883925950389, 18.24279200266995],
            [108.08200881373293, 18.626084932338948],
            [108.24552656341915, 19.026222406375275],
            [108.3675974760181, 19.43947691647776],
            [108.44677273760604, 19.861974031848792],
            [108.48197135944694, 20.289724697264145],
            [108.47250066073092, 20.718659300854142],
            [108.41807525794715, 21.14466344774694],
            [108.31883405698915, 21.563615347134963],
            [108.17535460825783, 21.971424674264],
            [107.98866405994377, 22.36407270479779],
            [107.76024584446918, 22.737653438067298],
            [107.49204117289563, 23.088415330812392],
            [107.18644440679225, 23.412803159090437],
            [106.8462914394344, 23.707499419917415],
            [106.47484035711544, 23.969464584424507],
            [106.07574386971837, 24.19597543044567],
            [105.6530132928137, 24.384660624350786],
            [105.21097421814954, 24.533532698677817],
            [104.75421440367768, 24.641015590847292],
            [104.28752481922007, 24.705966973091208],
            [103.81583516595906, 24.727694714940622]
          ]
        ]
      }
    }
  ]
}) as any;

onMounted(() => {
  setTimeout(() => {
    sourceData.value = {
      type: 'FeatureCollection',
      features: [
        {
          type: 'Feature',
          properties: {},
          geometry: {
            type: 'Polygon',
            coordinates: [
              [
                [108.08392998560568, 16.056227808950382],
                [107.70089168539059, 16.037841421784687],
                [107.32173530961703, 15.982869440396142],
                [106.95029600436693, 15.89187107575497],
                [106.59031635899552, 15.765770637606453],
                [106.24540257744616, 15.605846164359924],
                [105.91898345270414, 15.413713878998871],
                [105.61427286390112, 15.191308819730747],
                [105.33423635501585, 14.940862060168348],
                [105.08156217963945, 14.66487497901223],
                [104.85863702083688, 14.366091062932545],
                [104.66752643067345, 14.047465729733778],
                [104.50995989034298, 13.712134644442537],
                [104.38732027613044, 13.363380972250274],
                [104.30063743267546, 13.004601973459565],
                [104.25058550413513, 12.63927530111063],
                [104.23748365411079, 12.270925315998392],
                [104.26129981264917, 11.903089690010786],
                [104.3216571177348, 11.539286530065375],
                [104.41784276304338, 11.182982223451772],
                [104.54881901662644, 10.83756018222795],
                [104.71323623020243, 10.506290649689877],
                [104.90944771008229, 10.19230172523383],
                [105.13552636371007, 9.898551763868076],
                [105.38928306683826, 9.627803311386552],
                [105.66828671331893, 9.382598743630737],
                [105.96988591160954, 9.165237786024816],
                [106.29123227994025, 8.977757095406718],
                [106.62930526747415, 8.821912088051224],
                [106.98093839454239, 8.699161194040657],
                [107.34284676475696, 8.610652707653212],
                [107.71165565954924, 8.557214385692854],
                [108.08392998560568, 8.539345920815414],
                [108.4562043116621, 8.557214385692854],
                [108.8250132064544, 8.610652707653212],
                [109.18692157666895, 8.699161194040657],
                [109.53855470373719, 8.82191208805122],
                [109.87662769127112, 8.977757095406718],
                [110.1979740596018, 9.165237786024816],
                [110.49957325789241, 9.382598743630737],
                [110.77857690437308, 9.627803311386552],
                [111.03233360750129, 9.898551763868076],
                [111.25841226112908, 10.19230172523383],
                [111.45462374100892, 10.506290649689877],
                [111.6190409545849, 10.837560182227952],
                [111.75001720816796, 11.182982223451772],
                [111.84620285347654, 11.539286530065372],
                [111.90656015856217, 11.903089690010786],
                [111.93037631710055, 12.270925315998392],
                [111.91727446707621, 12.639275301110628],
                [111.86722253853588, 13.004601973459565],
                [111.7805396950809, 13.363380972250273],
                [111.65790008086836, 13.712134644442537],
                [111.5003335405379, 14.047465729733778],
                [111.30922295037448, 14.366091062932544],
                [111.0862977915719, 14.66487497901223],
                [110.8336236161955, 14.940862060168348],
                [110.55358710731025, 15.191308819730747],
                [110.2488765185072, 15.413713878998871],
                [109.92245739376521, 15.605846164359924],
                [109.57754361221583, 15.765770637606455],
                [109.21756396684442, 15.89187107575497],
                [108.84612466159435, 15.982869440396142],
                [108.46696828582077, 16.037841421784687],
                [108.08392998560568, 16.056227808950382]
              ]
            ]
          }
        }
      ]
    };
  }, 5000);
});
</script>

<template>
  <div class="container">
    <MapBox
      class="map"
      :options="{
        style: 'https://worldwidemaps.sqkii.com/api/maps/purple/style.json',
        container: 'mapContainer',
        center: [108.47067944725364, 14.37145041099869]
      }"
    >
      <!-- <GeoControl position="top-left" /> -->
      <!-- <Layer source="" source-id="" layer-id="" layer="" /> -->
      <!-- <Marker :lng-lat="[103.751119, 1.519845]"> </Marker> -->
    </MapBox>
  </div>
</template>
<style>
* {
  margin: 0;
  padding: 0;
  font-family: inherit;
  box-sizing: inherit;
}
.container {
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
.map {
  height: 500px;
  width: 500px;
}
</style>
